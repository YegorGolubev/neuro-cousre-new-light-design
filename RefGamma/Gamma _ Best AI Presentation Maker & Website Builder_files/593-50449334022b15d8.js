"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{80593:(e,n,t)=>{t.d(n,{ni:()=>W,Lz:()=>q,jh:()=>X});var i=t(6029),s=t(12514),r=t(40452),a=t(64268),o=t(26385),l=t(5221),d=t(99745),u=t(49611),x=t(77364),c=t(99492),m=t(48621),p=t(55729),b=t(94524),j=t(76917),v=t(87489),g=t(3898),h=t(4742),y=t(70077),N=t(42116),O=t(80621),f=t(10492),A=t(3616),_=t(36429),k=t(10961),E=t(44732),M=t(80314),P=t(94657),R=t(65818),D=t(60287),w=t(86108),C=t(22670),S=t(52852),U=t(81882),B=t(17086),I=t(49763),G=t(25461),F=t(32277),T=t(43987),J=t(64673);let L=[{Component:()=>{let e=(0,_.u)("outageButterbar");if(!e.enabled)return null;let{header:n,text:t,buttonLink:s,buttonText:r,key:a,pathnameRegexp:o}=e;return(0,i.jsx)(X,{definition:{key:a,header:n,text:t,buttonText:r,buttonLink:s,conditions:()=>!o||null!==window.location.pathname.match(new RegExp(o))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,_.u)("openAiStatus")?null:(0,i.jsx)(X,{definition:{key:"ai-service-status",header:(0,i.jsx)(A.x6,{id:"1Agl06"}),text:(0,i.jsx)(A.x6,{id:"cCl6WD"}),ttlInSeconds:86400,conditions:()=>(0,k.a5)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{let e=(0,B.A)(),{subscription:n,product:t}=(0,U.I)(),s="payment_overdue"===e.blockReason;if(!n||!t||!s)return null;let{isCurrentUserBillingAdmin:r,billingAdminDisplayName:a,updateYourBillingInfoOnClick:o,updateYourBillingInfoHref:l}=e,d=G.Qu[t].name,u=(0,G.UJ)(t),{expirationTime:x,id:c}=n,m=(0,w.Yq)(x,"MMMM do, yyyy"),p=(0,F.AY)(n.id)&&(r||!(null==n?void 0:n.managedByUser))?(0,i.jsx)(A.x6,{id:"velw1T",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:E.On,productName:d},components:{0:(0,i.jsx)(M.N,{href:l,onClick:o,isExternal:!0,textDecoration:"underline"})}}):(0,i.jsx)(A.x6,{id:"WibENx",values:{billingAdminDisplayName:a,expirationFormatted:m,GAMMA_PROPER_NOUN:E.On,productName:d},components:{0:(0,i.jsx)("b",{})}});return(0,i.jsx)(X,{definition:{key:"payment-overdue-".concat(c),header:(0,i.jsx)(A.x6,{id:"Lac1Vj",values:{GAMMA_PROPER_NOUN:E.On,productName:d}}),text:(0,i.jsxs)(i.Fragment,{children:[u," ",p]}),buttonText:r?(0,i.jsx)(A.x6,{id:"WLvqZR"}):void 0,buttonLink:l,buttonOnClick:o,ttlInSeconds:86400}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:n}=(0,U.I)();if(!e)return null;let{status:t,expirationTime:s,id:r}=e;if(!(new Date>(0,P.A)(s)&&new Date<(0,R.A)((0,P.A)(s),{days:10})))return null;let a=()=>n({segmentEvent:C.VV.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR,upsellLocation:"subscriptionExpiredButterbar",targetFeature:null}),o=(0,i.jsx)(M.N,{onClick:a,isExternal:!0,textDecoration:"underline",children:(0,i.jsx)(A.x6,{id:"mj68q/"})});return(0,i.jsx)(X,{definition:{key:"subscription-expired-".concat(r),header:(0,i.jsx)(A.x6,{id:"0hHZEf",values:{GAMMA_PROPER_NOUN:E.On}}),text:(0,i.jsxs)(i.Fragment,{children:["unpaid"===t||"past_due"===t?(0,i.jsx)(A.x6,{id:"QdgXJv"}):""," ",o]}),buttonText:(0,i.jsx)(A.x6,{id:"kwkhPe"}),buttonOnClick:a}})},key:"subscription-expired-butterbar"},{Component:()=>{var e;let{user:n}=(0,S.ur)(),{subscription:t}=(0,U.I)(),{latestPurchaseTime:s,latestPurchaseStatus:r}=(0,D.e)(null==t?void 0:t.workspaceId);if("failed"!==r)return null;let a=(0,w.Yq)(s,"PPp"),o=(0,F.AY)(null==t?void 0:t.id),l=(null==t||null==(e=t.managedByUser)?void 0:e.id)===(null==n?void 0:n.id),{email:d,displayName:u}=(null==t?void 0:t.managedByUser)||{},x=o&&(l||!(null==t?void 0:t.managedByUser))?(0,i.jsx)(A.x6,{id:"xcMblF",values:{lastCreditsPurchaseFormatted:a},components:{0:(0,i.jsx)("strong",{})}}):(0,i.jsx)(A.x6,{id:"JTxmr1",values:{lastCreditsPurchaseFormatted:a,managedByUserDisplayName:u,managedByUserEmail:d},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}});return(0,i.jsx)(X,{definition:{key:"credits-auto-recharge-failed-".concat(null==t?void 0:t.workspaceId),header:(0,i.jsx)(A.x6,{id:"MBzc5N"}),text:x,buttonText:l?(0,i.jsx)(A.x6,{id:"WLvqZR"}):void 0,buttonLink:o,ttlInSeconds:86400}})},key:"credits-auto-recharge-failed-butterbar"},{Component:()=>{var e,n,t;let{user:s}=(0,S.ur)(),{subscription:r,product:a}=(0,U.I)(),{handleReactivate:o,reactivateSubscriptionExplanation:l,canReactivate:d,isReactivating:u}=(0,I.l)(),x=(0,_.u)("reactivateSubscription");if(!r||!a)return null;let{status:c,expirationTime:m,id:p,cancellationRequestedTime:b}=r,j="canceled"!=c&&b&&new Date<(0,P.A)(m)&&new Date>(0,R.A)((0,P.A)(m),{days:-7}),v=(0,G.UJ)(a),g=G.Qu[a].name;if(!j)return null;if(x)return(0,i.jsx)(X,{definition:{key:"subscription-ending-soon-".concat(p,"-").concat(b),header:(0,i.jsx)(A.x6,{id:"66dedh",values:{GAMMA_PROPER_NOUN:E.On,productName:g}}),text:(0,i.jsxs)(i.Fragment,{children:[v," ",l]}),buttonText:d?u?(0,i.jsx)(A.x6,{id:"DpJOvy"}):(0,i.jsx)(A.x6,{id:"z1z5hv"}):void 0,buttonOnClick:d?o:void 0}});let h=(null==r||null==(e=r.managedByUser)?void 0:e.id)===(null==s?void 0:s.id),y=(0,F.AY)(r.id),N=(0,w.Yq)(m,"MMMM do, yyyy"),O=!h&&(null==r?void 0:r.managedByUser)?(0,i.jsx)(A.x6,{id:"z4DeyC",values:{expirationFormatted:N,GAMMA_PROPER_NOUN:E.On,productName:g,0:null==(n=r.managedByUser)?void 0:n.displayName,1:null==(t=r.managedByUser)?void 0:t.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}}):(0,i.jsx)(A.x6,{id:"qP91+f",values:{expirationFormatted:N,GAMMA_PROPER_NOUN:E.On,productName:g},components:{0:(0,i.jsx)(M.N,{href:y,isExternal:!0,textDecoration:"underline"})}});return(0,i.jsx)(X,{definition:{key:"subscription-ending-soon-".concat(p),header:(0,i.jsx)(A.x6,{id:"66dedh",values:{GAMMA_PROPER_NOUN:E.On,productName:g}}),text:(0,i.jsxs)(i.Fragment,{children:[v," ",O]}),buttonText:(0,i.jsx)(A.x6,{id:"3jHA5d"}),buttonLink:y}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,i.jsx)(A.x6,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:E.On}}),text:(0,i.jsx)(A.x6,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:E.On}}),conditions:()=>(0,g.Pg)(),dismissKey:T.E.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,i.jsx)(A.x6,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:E.On}}),text:(0,i.jsx)(A.x6,{id:"Tf7VpJ"}),conditions:()=>z()&&(0,g.bh)(),dismissKey:T.E.lastDismissedPreferredBrowserMessage},{Component:()=>{let{user:e}=(0,S.ur)(),{ssoSettings:n}=e||{},t=(null==n?void 0:n.ssoContactEmail)||"",s=(null==n?void 0:n.domainCaptureDate)?(0,w.Yq)(n.domainCaptureDate,"PPP"):"",r={key:"sso-domain-capture-warning",colorScheme:"blue",variant:"subtle",header:(0,i.jsx)(A.x6,{id:"oX36Q2"}),text:t?(0,i.jsx)(A.x6,{id:"XrR3rJ",values:{GAMMA_PROPER_NOUN:E.On,captureDate:s,contactEmail:t},components:{0:(0,i.jsx)(M.N,{color:"blue.500",textDecoration:"underline",href:"mailto:".concat(t)}),1:(0,i.jsx)(M.N,{href:J.C.SSO_END_USER_GUIDE,target:"_blank",rel:"noopener noreferrer",color:"blue.500",textDecoration:"underline"})}}):(0,i.jsx)(A.x6,{id:"AxXR/d",values:{GAMMA_PROPER_NOUN:E.On,captureDate:s},components:{0:(0,i.jsx)(M.N,{href:J.C.SSO_END_USER_GUIDE,target:"_blank",rel:"noopener noreferrer",color:"blue.500",textDecoration:"underline"})}}),conditions:()=>{var n;return(null==e||null==(n=e.ssoSettings)?void 0:n.domainCaptureDate)!=null&&(null==e?void 0:e.authProvider)!=="SSO"},dismissKey:T.E.lastDismissedSSODomainCaptureWarning};return(0,i.jsx)(X,{definition:r})},key:"sso-domain-capture-warning",dismissKey:T.E.lastDismissedSSODomainCaptureWarning}],z=()=>(0,g.z3)()||!(0,g.H8)()&&!(0,g.nr)()&&!(0,g.yE)(),W=e=>{let{isViewOnly:n}=e,t=(0,y.En)(),a=(0,j.GV)(v.VJ);if(n||!t||(0,g.rA)()||h.D1||(0,O.NF)()||a)return null;let o=L.map(e=>"Component"in e?(0,i.jsx)(e.Component,{},e.key):(0,i.jsx)(X,{definition:e},e.key));return(0,i.jsx)(s.Z,{children:(0,i.jsx)(r.s,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:"toast",sx:{"> *:not(:first-child)":{display:"none"}},children:o})})},q=e=>{let{colorScheme:n="orange",variant:t="solid",header:s,text:p,buttonText:b,buttonLink:j,buttonOnClick:v,onClose:g,...h}=e,y=b&&(j||v),N=v||(j?()=>window.open(j,"_blank"):void 0),O=j&&!v;return(0,i.jsxs)(a.F,{gap:2,shadow:"lg",width:{base:"calc(100% - 1rem)",lg:"min(60vw, 1000px)"},flexDirection:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},colorScheme:n,variant:t,boxShadow:"lg",...h,children:[(0,i.jsxs)(o.B,{spacing:0,flex:1,pe:{base:12,lg:0},children:[(0,i.jsx)(l.X,{children:s}),(0,i.jsx)(d.T,{lineHeight:"base",fontSize:"xs",children:p})]}),y&&(0,i.jsx)(u.$,{flexShrink:0,variant:"plain",size:"xs",rightIcon:O?(0,i.jsx)(m.g,{size:"sm",icon:c.Ju_,fixedWidth:!0}):void 0,onClick:N,children:b}),(0,i.jsx)(r.s,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},insetEnd:4,top:4,children:(0,i.jsx)(x.J,{size:"sm",onClick:g,colorScheme:"subtle"===t?n:"whiteAlpha"})})]})},X=e=>{let{definition:n}=e,{key:t,dismissKey:s="butterbar-dismiss-".concat(t),conditions:r,ttlInSeconds:a,header:o,text:l,buttonText:d,buttonLink:u,buttonOnClick:x,colorScheme:c,variant:m}=n,[j,v]=(0,N.M)(s,!1),g=(0,b.fW)();return((0,p.useEffect)(()=>{if(a&&j)new Date().getTime()-new Date(j).getTime()>1e3*a&&f.x.removeItem(s)},[s,j,a]),r&&!r()||j)?null:(0,i.jsx)(q,{colorScheme:c,variant:m,header:o,text:l,buttonText:d,buttonLink:u,buttonOnClick:x,onClose:()=>{v(String(new Date))},position:"fixed",insetStart:"50%",transform:"translateX(".concat(g?"50%":"-50%",")")})}}}]);
//# sourceMappingURL=593-50449334022b15d8.js.map